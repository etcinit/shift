sudo: required
services:
- docker
language: c
addons:
  apt:
    packages:
    - libgmp-dev
before_install: bash contrib/travis/before-install.sh
script: stack test --no-terminal --install-ghc --copy-bins
cache:
  directories:
  - "$HOME/.stack"
  - ".stack-work"
after_success: bash contrib/travis/after-success.sh
env:
  global:
  - secure: EC1epL2nfVGJ2Nkc9Dk9MhifJtrP0trmbuVljCp56aQOBmk4IuttSz1dJHQLcH6+phCZdrqhYW/gc42fkBk0qd8LYD2b4ejco+YNjg1s0p68IjXEx3CWEOsbO/Bj22ZQQGylWNyzFNXye/828+R40TAr9RvRpRxuUMtsP0KYDmawXqIlFr4+5PLK9O/pg+2Ve8XYvuwacsVF2GbJu8LKxGSGZBuVaFaXsniQRrvI6A2sb4stIVc+s+t4wMwUgSo/cp1Tj6X9BT+Lt0QVWLBUdnHzypZai9bJd0IZnCeXGkzObUdPLifXOuPddQgc466PmqYodNsr6pvo618dz67DNRUwpGoEtYi7oErRNLJHeQeJGKmsQF0X41Om9zm2D0tjAa6DNUEi/KKm0kKQAHz0JeRsh84BAqY+iMz7bN1yZ8GCZVl+c99QJjremjQzt41ktS84SJBOqJVH/7pecfXdzZN0vTcwhLEIZb8pnb6Ib6uv9cQ70XYshi75xtoxksR9BfDO0o0xmtYhjD8OQyVPhObmc2LM4ucv5UnsIHH7LkeptvHRIu3EYbzNc0bZTplTBvaPuY4bGOPxvE5af9/8kRTlT2tWMyvAb2nHriyK4RTG1JmXzOAKJvPIJdxwGoisiFNCPJUkH6QlcN5mShKSzRl383iRmQRK04IMZDwinUY=
  - secure: Pud8Q46YLRjd/US8qFV4d0euzdW4EvKuh8zqTt5LGYdSP7YgNMtVWMNm0yjk2UG0P7jNnlmgXOpvfvqw7igfyUgUs1PO7EeaoABc+IK/cX5gAnu+I+zYzc/62nVkZi1aIbd47huOilMADvQGTgWQyfjy+NfqvqJepGbh4A7pS0ydPSEHXIxEmnk4yKkvYzgMjd3zGl9wwodu9Ot4ydY5Xlth6ETtEaSpj2RBXBA4npLulFHVZnzVhZsM0GyF9lTv9ocRRZ31TDvxs0TQQsApmom58TssONcqQSR8r3UYy2BfQjC2duVVhHEDpg1p4Y0MNr4vDAt2HYQ6oYqqAnGGJHkWQQOiLebcgV5lHBaGQHhatpeswvlIsX4+RsO5kGmNqtCmzgJijjfmfcLEdhi5h0nAoo/89YdFRouZ/VzDaJS5i9ESauTJRq13A6nBo/h7RWbt1pG2YXIW3S3DqMSDKsNf3ZaE0tDB7vuR8VgRmI450Es07LMEo93ANQvriyu25CR5q+KzrVcPcf4xbJyXDB4qVjx8ysH4MWFYAQYiHd87fKMN81p8WCATlHB8CMJTQ7w72VLp4qDV2ktzMQYYhYVtD40tm496jx/cMZy8B8bwWDrWeFNKyCZl+0+v4N8XEHMciIKQ/yCeHVndhJ00KLjkV7fryw/sUBTOpj2sqQ8=
  - secure: RVOlgjNsfIQ3bHHrFWSuP2YhvsFuQwnIEqml2ZVbZxL368pS6YSVRgY2MZtF281L++Bz31gQtQTHvvuE419s2kr1ozzD/gSaAmFuiCS6zHqPR+ytj8du3rSzfcS1aaiYANZEqDHNiMVqa9SRobbefm+Y1TVNsdpJ153n/Xv6pRxLi7Nt3fOsR2pTraM+E27LYLz/jqdgBfq+A0kPcg3h8WKXtKNCFJ/8Yi+ZarsfFp7CaF4RjqSS20TaUCBkImd3V3lLHj6GbVfRCqVbF2mNaZxUPnTeiL0kc+GsAb87+1kDfqro9mcjBsFxbCVp6+ISVRd8esTJDYim3LW/kykhs6gOHP/KjYkz+MN0r8kmqzBIJmOapWFTntQvNqNHinlLFEYj4lhoDtEqc29SiyroSYYPLA4qGG9BxUn58PZ5MwSCDqog1e3AUYOZ7ZJaWiXGkwLIYVOflxQXUkzoRCSEYTR7yoSBvCFgXlMPZJaEqHns6WwzqMjQWk09wzJx3PtebnEsaFpnECnS0by8k+U1z0v5lF1FSqiYFnkV7LcbGV2zRlZVjOcfEVVWo7zwoyXl4VQ9KVHqcvuYJwX1WxGCyKZPnHZzyz1IcqlsEhLR3d3WEZd0cr2ZYxUHNjDWy1GQDXRLbyu/LJyBuaIbBZpCScjtjh13k0HBlWxX0a3/W+A=
deploy:
  provider: releases
  api_key:
    secure: iTN17UHSZiayvQQoohu1JkrVcQmIGKnuMzWGr63Ujalmtzno1r6WAS1iVghAlpu42dRTHCjK6IRp0seFIUs7ltibyidsOvqacdPN+4nL0otqr9JocKnpMqEmPKI1QbU3j7kuiiY5hqwtvtuMaXeHUpFn2Y3VhTcqGcU1IUd1IUeKhMLTiYwbW+06HMyq9oTTRSW625miY3vzCntyIsj/tAeEwuNIHe2/rIeqrUqzKw6kNivhxfKNQP37flv4wKLAk/qCcPeTZ1sgyvoyoXiA/O7Vi7YBftsEq0M+N9Y0hCEnEPM8cIChsJZP+G8lT9YYHSu5Sxuat25j9mjZKrqSQ1ScWmdPIGzacH7qAxUtgESKoWcEttoRuH9hOnqitbL1PybmR8SQhqV1qo7v8WJVEYtrdC3xxp+VCob4sgZeQpimR3MNPGLZh3QWNf4Ol/WOQhZKIP4nbYHcAHM5xLRydiIcPiyeyauiWVoxZoKyxKm9qixoAxDUhhyI81PfxD5L3K6vciyoiUMvjYZdCSir4rSVWAcLHher5h7iQoI14myGBQiTo/Tck101oQF3ln1LRxK2oERVgQAE+9kZMxDSpWN3Hv1kJtYdhDET1Kdv4RwUGReCegMfgwMdsuOCBQ3lUYg4C/Q0PZT9vVBmLkYW/yFukmZ6oLOLDpHEryep1K0=
  file: dist/shift
  on:
    repo: etcinit/shift
